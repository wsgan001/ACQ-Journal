package hku.variant.variant4;

import hku.Config;
import hku.algo.DataReader;
import hku.algo.TNode;
import hku.algo.index.AdvancedIndex;
import hku.variant.variant4.*;



public class BasicV3Test {


public static void main(String []args){
	int graph[][] = new int[11][];
	int a1[] = {2, 3, 4, 5};	graph[1] = a1;
	int a2[] = {1, 3, 4,5};		graph[2] = a2;
	int a3[] = {1, 2, 4};		graph[3] = a3;
	int a4[] = {1, 2, 3, 6};	graph[4] = a4;
	int a5[] = {1, 2, 7};		graph[5] = a5;
	int a6[] = {4};			graph[6] = a6;
	int a7[] = {5};			graph[7] = a7;
	int a8[] = {9};				graph[8] = a8;
	int a9[] = {8};	graph[9] = a9;
	int a10[] ={};	graph[10] = a10;
	
	
	
	String nodes[][] = new String[graph.length][];
	String b1[] = {"1","w", "x", "y"};	nodes[1] = b1;
	String b2[] = {"2","x"};	nodes[2] = b2;
	String b3[] = {"3","x", "y"};	nodes[3] = b3;
	String b4[] = {"4","z", "x", "y"};	nodes[4] = b4;
	String b5[] = {"5","y", "z"};	nodes[5] = b5;
	String b6[] = {"6","y"};	nodes[6] = b6;
	String b7[] = {"7","x", "y"};	nodes[7] = b7;
	String b8[] = {"8","y", "z"};	nodes[8] = b8;
	String b9[] = {"9","x"};	nodes[9] = b9;
	String b10[] = {"10","x"};	nodes[10] = b10;
	
//	int queryset[]={5};
//	String[] kws={"x","y","z","w"};
//	Config.k=1;
//	BasicGV3_V2 basic=new BasicGV3_V2(nodes, graph);
//	basic.query(queryset, kws);
//	basic.testOutput();
	
//	DataReader dataReader=new DataReader(Config.flickrGraph, Config.flickrNode);
	DataReader dataReader=new DataReader(Config.dblpGraph, Config.dblpNode);
	int[][] g=dataReader.readGraph();
	String[][] n=dataReader.readNode();
	
	
	Config.k=4;
	int queryset[]={152532,17891};//152532:jim gary 17891:Gerhard Weikum
	String[] kwStrings={"heoo","research","data" ,"management","system","transaction"};
//	BasicGV3_V2 basicGV3_V2=new BasicGV3_V2(n, g);
	//	Long time3=System.nanoTime();
//	basicGV3_V2.query(queryset,kwStrings);
//	basicGV3_V2.testOutput();
//	Long time4=System.nanoTime()-time3;
//	System.out.println(time4/1000000);
	
//	BasicWV3_V2 basicWV3_V2=new BasicWV3_V2(n, g);
//	Long time1=System.nanoTime();
//	basicWV3_V2.query(queryset,kwStrings);
//	basicWV3_V2.testOutput();
//	Long time2=System.nanoTime()-time1;
//	System.out.println(time2/1000000);
	AdvancedIndex advancedIndex=new AdvancedIndex(g, n);
	TNode root=advancedIndex.build();
	//SW_V2 s1=new SW_V2(n,g,root);
	//s1.testOutput();
	
	
	
//	

}
}
